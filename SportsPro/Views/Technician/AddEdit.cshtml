@model SportsProUser

@{
    ViewBag.Title = ViewBag.Action + " SportsProUser";
}

<h1>@ViewBag.Title</h1>

<form asp-action="AddEdit" asp-controller="Technician" method="post" class="mt-3" id="asas-1212as-">
    <input type="hidden" asp-for="Id" />

    <div class="row">
        <div class="col-md-6">
            <div class="form-floating my-2">
                <input class="form-control" asp-for="FirstName" required placeholder="First Name:" />
                <label asp-for="FirstName" class="form-label">First Name:</label>
                <span class="text-danger" asp-validation-for="FirstName"></span>
            </div>
        </div>

        <div class="col-md-6">
            <div class="form-floating my-2">
                <input class="form-control" asp-for="LastName" required placeholder="Last Name:" />
                <label asp-for="LastName" class="form-label">Last Name:</label>
                <span class="text-danger" asp-validation-for="LastName"></span>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-md-6">
            <div class="form-floating my-2">
                <input class="form-control" asp-for="Email" required placeholder="Email:" />
                <label asp-for="Email">Email:</label>
                <span class="text-danger" asp-validation-for="Email"></span>
            </div>
        </div>

        <div class="col-md-6">
            <div class="form-floating my-2">
                <input class="form-control" asp-for="PhoneNumber" required placeholder="Phone Numer" />
                <label asp-for="PhoneNumber">Phone Number:</label>
                <span class="text-danger" asp-validation-for="PhoneNumber"></span>
            </div>
        </div>
    </div>

    @*Save button*@
    <button type="submit" class="mt-2 btn btn-primary">Save</button>

    @*Cancel button*@
    <a class="mt-2  btn btn-primary" asp-controller="Technician" asp-action="List">
        Cancel
    </a>
</form>

@*Technician Delete button*@
<form method="post" asp-action="Delete" asp-controller="Technician" class="mt-5"
      id="deleteTech_@Model.Id"
      onsubmit="deleteTech(event, @Model.Id)">
    <input hidden value="@Model.Id" name="technicianID" />
    <button type="submit" class="btn btn-outline-danger">Delete</button>
</form>


@section Scripts
    {
    <script>
        function deleteTech(event, userId) {
            event.preventDefault();
            console.log("Delete button clicked");

            Swal.fire({
                title: "Are you sure you want to delete this technician?",
                icon: 'question',
                showCancelButton: true,
                confirmButtonColor: '#d33',
                cancelButtonColor: '#3085d6',
                confirmButtonText: 'Yes, delete it'
            }).then(result => {
                if (result.isConfirmed) {
                    document.getElementById('deleteTech_' + userId).submit();
                }
            });
        }
    </script>
}